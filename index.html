<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1.0"/>
<title>Garner Badminton Â· Community Gyms</title>
<style>
/* â”€â”€ Google Font â”€â”€ */
@import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap');

/* â”€â”€ Design Tokens â”€â”€ */
:root {
  --saffron:      #F4A100;
  --saffron-light:#FFD166;
  --saffron-glow: rgba(244,161,0,0.25);
  --saffron-soft: rgba(244,161,0,0.08);
  --ink:          #0D0D0D;
  --ink-2:        #1A1A1A;
  --ink-3:        #2B2B2B;
  --muted:        #6B6B6B;
  --muted-2:      #8C8C8C;
  --divider:      rgba(255,255,255,0.08);
  --surface:      #161616;
  --surface-2:    #1E1E1E;
  --surface-3:    #252525;
  --open-bg:      rgba(34,197,94,0.1);
  --open-border:  rgba(34,197,94,0.3);
  --open-text:    #4ade80;
  --taken-bg:     rgba(239,68,68,0.1);
  --taken-border: rgba(239,68,68,0.25);
  --taken-text:   #f87171;
  --radius-sm:    8px;
  --radius:       14px;
  --radius-lg:    20px;
  --shadow:       0 4px 24px rgba(0,0,0,0.4);
  --shadow-glow:  0 0 40px rgba(244,161,0,0.15);
}

/* â”€â”€ Reset â”€â”€ */
*,*::before,*::after{box-sizing:border-box;margin:0;padding:0}
html{scroll-behavior:smooth}
body{
  font-family:'Inter',system-ui,sans-serif;
  background:var(--ink);
  color:#E8E8E8;
  min-height:100vh;
  -webkit-font-smoothing:antialiased;
}

/* â”€â”€ Scrollbar â”€â”€ */
::-webkit-scrollbar{width:6px;height:6px}
::-webkit-scrollbar-track{background:var(--ink-2)}
::-webkit-scrollbar-thumb{background:var(--ink-3);border-radius:3px}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   HERO
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
.hero{
  position:relative;
  overflow:hidden;
  padding:72px 24px 80px;
  text-align:center;
  background:var(--ink);
}
/* animated grain overlay */
.hero::before{
  content:'';position:absolute;inset:0;
  background:
    radial-gradient(ellipse 70% 60% at 50% -10%, rgba(244,161,0,0.18) 0%, transparent 70%),
    radial-gradient(ellipse 40% 40% at 80% 80%, rgba(244,161,0,0.06) 0%, transparent 60%);
  pointer-events:none;
}
/* shuttlecock watermark */
.hero::after{
  content:'ğŸ¸';
  position:absolute;right:-20px;bottom:-30px;
  font-size:220px;opacity:.04;
  transform:rotate(25deg);
  pointer-events:none;
}
.hero-eyebrow{
  display:inline-flex;align-items:center;gap:6px;
  font-size:.7rem;font-weight:600;letter-spacing:2px;text-transform:uppercase;
  color:var(--saffron);
  border:1px solid rgba(244,161,0,0.35);
  background:rgba(244,161,0,0.08);
  border-radius:50px;padding:5px 14px;
  margin-bottom:24px;
}
.hero h1{
  font-size:clamp(2.2rem,6vw,3.8rem);
  font-weight:900;letter-spacing:-1.5px;
  line-height:1.05;
  color:#fff;
}
.hero h1 span{color:var(--saffron)}
.hero-sub{
  margin-top:14px;font-size:1rem;
  color:var(--muted-2);font-weight:400;
  max-width:480px;margin-left:auto;margin-right:auto;
}
.hero-pills{
  display:flex;justify-content:center;gap:10px;flex-wrap:wrap;
  margin-top:28px;
}
.pill{
  display:flex;align-items:center;gap:6px;
  font-size:.78rem;font-weight:500;
  color:#B0B0B0;
  background:var(--surface);
  border:1px solid var(--divider);
  border-radius:50px;padding:6px 14px;
}
.pill-dot{width:6px;height:6px;border-radius:50%;background:var(--saffron)}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   LAYOUT
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
.page{max-width:1000px;margin:0 auto;padding:0 20px 100px}

/* â”€â”€ Section label â”€â”€ */
.section-label{
  font-size:.68rem;font-weight:700;letter-spacing:2px;
  text-transform:uppercase;color:var(--saffron);
  margin-bottom:10px;
}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   WEEK TABS â€” pill style
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
.tabs-container{
  position:sticky;top:0;z-index:50;
  background:rgba(13,13,13,0.85);
  backdrop-filter:blur(20px);
  -webkit-backdrop-filter:blur(20px);
  border-bottom:1px solid var(--divider);
  padding:12px 20px;
}
.tabs-scroll{
  display:flex;gap:6px;
  overflow-x:auto;scrollbar-width:none;
  max-width:1000px;margin:0 auto;
}
.tabs-scroll::-webkit-scrollbar{display:none}
.tab-btn{
  flex:none;
  padding:8px 18px;
  font-size:.8rem;font-weight:600;font-family:'Inter',sans-serif;
  background:var(--surface-2);
  border:1px solid var(--divider);
  border-radius:50px;color:var(--muted);
  cursor:pointer;white-space:nowrap;
  transition:all .2s ease;
}
.tab-btn:hover{color:#E8E8E8;border-color:rgba(255,255,255,0.15);background:var(--surface-3)}
.tab-btn.active{
  background:var(--saffron);
  border-color:var(--saffron);
  color:var(--ink);
}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   PANELS
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
.week-panel{display:none}
.week-panel.active{display:block}

.week-header{
  display:flex;align-items:center;justify-content:space-between;
  flex-wrap:wrap;gap:12px;
  padding:32px 0 20px;
}
.week-header-title{font-size:1.35rem;font-weight:800;letter-spacing:-.5px;color:#fff}
.week-header-sub{font-size:.82rem;color:var(--muted);margin-top:2px}

/* â”€â”€ Day section â”€â”€ */
.day-section{margin-bottom:20px}

.day-card{
  border-radius:var(--radius-lg);
  overflow:hidden;
  border:1px solid var(--divider);
  background:var(--surface);
  box-shadow:0 2px 16px rgba(0,0,0,0.3);
  transition:box-shadow .2s;
}
.day-card:hover{box-shadow:0 4px 24px rgba(0,0,0,0.4)}

.day-head{
  display:flex;align-items:center;justify-content:space-between;
  flex-wrap:wrap;gap:8px;
  padding:16px 22px;
  background:var(--surface-2);
  border-bottom:1px solid var(--divider);
}
.day-head-left{display:flex;align-items:center;gap:12px}
.day-dot{
  width:36px;height:36px;border-radius:10px;
  background:var(--saffron-soft);border:1px solid rgba(244,161,0,0.25);
  display:flex;align-items:center;justify-content:center;
  font-size:1rem;flex-shrink:0;
}
.day-name{font-size:.98rem;font-weight:700;color:#fff;letter-spacing:-.2px}
.day-date-str{font-size:.78rem;color:var(--muted);margin-top:1px}
.day-time-badge{
  font-size:.74rem;font-weight:600;
  background:rgba(244,161,0,0.12);
  color:var(--saffron);border:1px solid rgba(244,161,0,0.25);
  border-radius:50px;padding:4px 12px;white-space:nowrap;
}

/* â”€â”€ Slots table â”€â”€ */
.slots-table{width:100%;border-collapse:collapse}
.slots-table th{
  padding:10px 16px;
  font-size:.68rem;font-weight:700;letter-spacing:1.5px;text-transform:uppercase;
  color:var(--muted);text-align:center;
  border-bottom:1px solid var(--divider);
}
.slots-table th:first-child{text-align:left}
.slots-table td{
  padding:10px 12px;
  border-bottom:1px solid rgba(255,255,255,0.04);
  vertical-align:middle;
}
.slots-table tr:last-child td{border-bottom:none}
.slots-table td:first-child{
  font-size:.8rem;font-weight:600;color:var(--muted-2);
  white-space:nowrap;padding-left:20px;
  font-variant-numeric:tabular-nums;
}
.slots-table td:not(:first-child){text-align:center}

/* â”€â”€ Slot button â”€â”€ */
.slot-btn{
  display:inline-flex;align-items:center;justify-content:center;gap:6px;
  width:100%;max-width:190px;
  padding:9px 14px;border-radius:var(--radius-sm);
  font-size:.78rem;font-weight:600;font-family:'Inter',sans-serif;
  border:1.5px solid;cursor:pointer;
  transition:all .15s ease;
  line-height:1;
  white-space:nowrap;
}
.slot-open{
  background:var(--open-bg);border-color:var(--open-border);color:var(--open-text);
}
.slot-open:hover{
  background:rgba(34,197,94,0.18);border-color:rgba(34,197,94,0.5);
  transform:translateY(-1px);box-shadow:0 4px 12px rgba(34,197,94,0.15);
}
.slot-open::before{content:'';width:7px;height:7px;border-radius:50%;background:var(--open-text);flex-shrink:0}
.slot-taken{
  background:var(--taken-bg);border-color:var(--taken-border);color:var(--taken-text);
  cursor:default;font-style:italic;
}
.slot-taken::before{content:'';width:7px;height:7px;border-radius:50%;background:var(--taken-text);flex-shrink:0}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   INFO BANNER
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
.info-banner{
  display:flex;gap:14px;align-items:flex-start;
  background:var(--saffron-soft);
  border:1px solid rgba(244,161,0,0.2);
  border-radius:var(--radius);
  padding:16px 20px;
  margin:24px 0;
  font-size:.85rem;color:#C8C8C8;line-height:1.6;
}
.info-banner-icon{font-size:1.2rem;flex-shrink:0;margin-top:1px}
.info-banner a{color:var(--saffron);text-decoration:none}
.info-banner a:hover{text-decoration:underline}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   LEGEND
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
.legend{
  display:flex;align-items:center;gap:20px;flex-wrap:wrap;
  margin-bottom:24px;
}
.legend-item{
  display:flex;align-items:center;gap:7px;
  font-size:.78rem;color:var(--muted);font-weight:500;
}
.legend-pip{
  width:10px;height:10px;border-radius:50%;border:1.5px solid;flex-shrink:0;
}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   EMPTY STATES
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
.empty-week{
  text-align:center;padding:72px 24px;
  color:var(--muted);
}
.empty-icon{font-size:52px;margin-bottom:16px;opacity:.5}
.empty-week h3{font-size:1.1rem;font-weight:700;color:#888;margin-bottom:6px}
.empty-week p{font-size:.88rem;line-height:1.6}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   ADMIN FAB
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
.fab{
  position:fixed;bottom:28px;right:28px;z-index:100;
  display:flex;align-items:center;gap:8px;
  padding:13px 22px;border-radius:50px;
  background:var(--saffron);color:var(--ink);
  font-size:.85rem;font-weight:700;font-family:'Inter',sans-serif;
  border:none;cursor:pointer;
  box-shadow:0 4px 24px rgba(244,161,0,0.4);
  transition:all .2s ease;
  letter-spacing:.2px;
}
.fab:hover{
  transform:translateY(-2px);
  box-shadow:0 8px 32px rgba(244,161,0,0.5);
}
.fab-icon{font-size:1rem}
.admin-unlocked .fab{background:#E8E8E8}
.admin-unlocked .fab::after{
  content:'âœ“';
  width:18px;height:18px;border-radius:50%;
  background:var(--saffron);color:var(--ink);
  font-size:.7rem;font-weight:900;
  display:flex;align-items:center;justify-content:center;
}

/* â”€â”€ Add-slot btn (admin only) â”€â”€ */
.btn-add-slot{
  display:none;
  align-items:center;gap:6px;
  padding:9px 18px;border-radius:var(--radius-sm);
  background:transparent;
  border:1.5px solid rgba(244,161,0,0.4);
  color:var(--saffron);
  font-size:.82rem;font-weight:600;font-family:'Inter',sans-serif;
  cursor:pointer;transition:all .15s;
}
.btn-add-slot:hover{background:var(--saffron-soft)}
.admin-unlocked .btn-add-slot{display:flex}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   MODALS
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
.overlay{
  display:none;position:fixed;inset:0;z-index:200;
  background:rgba(0,0,0,0.75);
  backdrop-filter:blur(6px);
  align-items:center;justify-content:center;
  padding:16px;
}
.overlay.open{display:flex}

.modal{
  background:var(--surface-2);
  border:1px solid var(--divider);
  border-radius:var(--radius-lg);
  box-shadow:0 24px 80px rgba(0,0,0,0.6);
  width:100%;max-width:480px;
  max-height:90vh;overflow-y:auto;
  animation:slideUp .22s cubic-bezier(.34,1.56,.64,1);
}
.modal-sm{max-width:360px}
@keyframes slideUp{
  from{transform:translateY(24px) scale(.97);opacity:0}
  to{transform:translateY(0) scale(1);opacity:1}
}
.modal-head{
  display:flex;align-items:center;justify-content:space-between;
  padding:20px 24px 16px;
  border-bottom:1px solid var(--divider);
}
.modal-head h2{font-size:1rem;font-weight:700;color:#fff;letter-spacing:-.2px}
.modal-close{
  background:var(--surface-3);border:none;
  width:30px;height:30px;border-radius:8px;
  display:flex;align-items:center;justify-content:center;
  color:var(--muted);font-size:1rem;cursor:pointer;
  transition:background .15s;
}
.modal-close:hover{background:rgba(255,255,255,.1);color:#fff}
.modal-body{padding:22px 24px}

/* â”€â”€ Form elements â”€â”€ */
.fgroup{margin-bottom:18px}
.fgroup label{
  display:block;font-size:.75rem;font-weight:600;
  color:var(--muted-2);letter-spacing:.4px;text-transform:uppercase;
  margin-bottom:7px;
}
.fgroup input,.fgroup select,.fgroup textarea{
  width:100%;padding:11px 14px;
  background:var(--surface-3);
  border:1.5px solid rgba(255,255,255,0.08);
  border-radius:var(--radius-sm);
  color:#E8E8E8;font-size:.9rem;font-family:'Inter',sans-serif;
  transition:border-color .2s,box-shadow .2s;
}
.fgroup input:focus,.fgroup select:focus,.fgroup textarea:focus{
  outline:none;
  border-color:var(--saffron);
  box-shadow:0 0 0 3px var(--saffron-glow);
}
.fgroup input::placeholder{color:var(--muted)}
.fgroup select option{background:var(--surface-2)}
.frow{display:grid;grid-template-columns:1fr 1fr;gap:14px}
.fhint{font-size:.72rem;color:var(--muted);margin-top:5px;line-height:1.5}

.btn-primary{
  width:100%;padding:13px;
  background:var(--saffron);color:var(--ink);
  border:none;border-radius:var(--radius-sm);
  font-size:.9rem;font-weight:700;font-family:'Inter',sans-serif;
  cursor:pointer;letter-spacing:.2px;
  transition:all .15s;
}
.btn-primary:hover{background:var(--saffron-light);transform:translateY(-1px)}

.btn-ghost{
  width:100%;padding:11px;margin-top:10px;
  background:transparent;
  border:1.5px solid rgba(255,255,255,0.1);
  border-radius:var(--radius-sm);
  color:var(--muted);font-size:.85rem;font-weight:600;font-family:'Inter',sans-serif;
  cursor:pointer;transition:all .15s;
}
.btn-ghost:hover{border-color:rgba(255,255,255,.2);color:#E8E8E8}

/* â”€â”€ PIN â”€â”€ */
.pin-input{
  text-align:center !important;
  font-size:2rem !important;
  letter-spacing:10px;font-weight:800 !important;
  color:#fff !important;
}
.pin-error{color:#f87171;font-size:.8rem;margin-top:8px;display:none;text-align:center}

/* â”€â”€ Manage list â”€â”€ */
.manage-item{
  display:flex;align-items:flex-start;gap:12px;
  padding:14px 0;border-bottom:1px solid var(--divider);
}
.manage-item:last-child{border-bottom:none}
.manage-badge{
  width:36px;height:36px;border-radius:9px;
  background:var(--saffron-soft);border:1px solid rgba(244,161,0,.2);
  display:flex;align-items:center;justify-content:center;
  font-size:.9rem;flex-shrink:0;
}
.manage-info{flex:1;min-width:0}
.manage-name{font-size:.9rem;font-weight:600;color:#fff}
.manage-sub{font-size:.76rem;color:var(--muted);margin-top:3px}
.btn-del{
  background:rgba(239,68,68,.1);border:1px solid rgba(239,68,68,.2);
  color:#f87171;border-radius:6px;
  padding:5px 10px;font-size:.72rem;font-weight:600;
  cursor:pointer;white-space:nowrap;font-family:'Inter',sans-serif;
  transition:all .15s;flex-shrink:0;
}
.btn-del:hover{background:rgba(239,68,68,.2)}

/* â”€â”€ Divider â”€â”€ */
.modal-divider{
  border:none;border-top:1px solid var(--divider);
  margin:18px 0;
}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   GUIDE CARD
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
.guide-card{
  background:var(--surface);
  border:1px solid var(--divider);
  border-radius:var(--radius-lg);
  padding:28px;
  margin-top:40px;
}
.guide-card h3{
  font-size:1rem;font-weight:700;color:#fff;
  margin-bottom:18px;display:flex;align-items:center;gap:8px;
}
.guide-steps{display:flex;flex-direction:column;gap:12px}
.guide-step{
  display:flex;gap:14px;align-items:flex-start;
}
.step-num{
  width:26px;height:26px;border-radius:50%;flex-shrink:0;
  background:var(--saffron);color:var(--ink);
  font-size:.75rem;font-weight:800;
  display:flex;align-items:center;justify-content:center;
  margin-top:1px;
}
.step-text{font-size:.88rem;color:#C0C0C0;line-height:1.6}
.step-text strong{color:#fff}
.gform-btn{
  display:inline-flex;align-items:center;gap:8px;
  margin-top:18px;
  background:var(--saffron);color:var(--ink);
  padding:11px 22px;border-radius:var(--radius-sm);
  font-size:.85rem;font-weight:700;text-decoration:none;
  transition:all .15s;
}
.gform-btn:hover{background:var(--saffron-light);transform:translateY(-1px)}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   TOAST
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
.toast{
  position:fixed;bottom:90px;left:50%;
  transform:translateX(-50%) translateY(12px);
  background:var(--surface-3);
  border:1px solid var(--divider);
  color:#E8E8E8;
  padding:11px 22px;border-radius:50px;
  font-size:.82rem;font-weight:500;
  box-shadow:0 8px 32px rgba(0,0,0,.5);
  opacity:0;transition:all .28s cubic-bezier(.34,1.56,.64,1);
  z-index:400;pointer-events:none;white-space:nowrap;
}
.toast.show{opacity:1;transform:translateX(-50%) translateY(0)}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   FOOTER
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
footer{
  text-align:center;padding:32px 20px;
  font-size:.75rem;color:var(--muted);
  border-top:1px solid var(--divider);
  margin-top:20px;
}
footer a{color:var(--saffron);text-decoration:none}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   RESPONSIVE
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
@media(max-width:640px){
  .slots-table th,.slots-table td{padding:8px 8px}
  .slot-btn{font-size:.72rem;padding:8px 10px;max-width:100%}
  .frow{grid-template-columns:1fr}
  .hero{padding:56px 16px 64px}
  .modal-body{padding:18px 16px}
}
</style>
</head>
<body>

<!-- â•â• HERO â•â• -->
<header class="hero">
  <div class="hero-eyebrow">ğŸ¸ Community Gyms Â· Garner Rec Center</div>
  <h1>Badminton<br><span>Sign-Up</span></h1>
  <p class="hero-sub">Claim your 30-minute court slot. No account needed â€” just show up and play.</p>
  <div class="hero-pills">
    <div class="pill"><span class="pill-dot"></span>Up to 3 Gyms Available</div>
    <div class="pill"><span class="pill-dot"></span>March 2026</div>
    <div class="pill"><span class="pill-dot"></span>Volunteer-managed</div>
  </div>
</header>

<!-- â•â• STICKY TABS â•â• -->
<nav class="tabs-container">
  <div class="tabs-scroll" id="weekTabs"></div>
</nav>

<!-- â•â• PAGE BODY â•â• -->
<div class="page">

  <!-- Info banner -->
  <div class="info-banner">
    <span class="info-banner-icon">ğŸ’¡</span>
    <span>
      Tap any <strong style="color:var(--open-text)">green slot</strong> to open the sign-up form â€” no Google account required.
      Not all gyms are open every session â€” only the available ones are shown per slot.
      Slots are based on the official <a href="https://garner.recdesk.com/Community/Calendar" target="_blank">Garner Rec calendar</a>
      and are updated weekly by a volunteer coordinator. Schedule may change â€” always verify before heading out.
    </span>
  </div>

  <!-- Legend -->
  <div class="legend">
    <div class="legend-item">
      <div class="legend-pip" style="background:var(--open-bg);border-color:var(--open-border)"></div>
      Available â€” click to sign up
    </div>
    <div class="legend-item">
      <div class="legend-pip" style="background:var(--taken-bg);border-color:var(--taken-border)"></div>
      Already booked
    </div>
  </div>

  <!-- Week panels injected by JS -->
  <div id="weekPanels"></div>

  <!-- How It Works -->
  <div class="guide-card">
    <h3>ğŸ“‹ How sign-up works</h3>
    <div class="guide-steps">
      <div class="guide-step">
        <div class="step-num">1</div>
        <div class="step-text">Choose your week using the tabs at the top, then find your preferred day and time slot.</div>
      </div>
      <div class="guide-step">
        <div class="step-num">2</div>
        <div class="step-text">Click any <strong>green "Available" button</strong> under a gym. A Google Form will open in a new tab.</div>
      </div>
      <div class="guide-step">
        <div class="step-num">3</div>
        <div class="step-text">Fill in your <strong>name and optionally a contact number</strong>. Submit the form â€” that's it. No Google account required.</div>
      </div>
      <div class="guide-step">
        <div class="step-num">4</div>
        <div class="step-text">The volunteer coordinator sees your response and updates the schedule. To cancel, message the coordinator.</div>
      </div>
    </div>
    <a class="gform-btn" href="https://forms.google.com" target="_blank">
      ğŸ“ Open sign-up form â†’
    </a>
  </div>

</div><!-- /page -->

<!-- â•â• ADMIN FAB â•â• -->
<button class="fab" id="adminFab" onclick="openPinModal()">
  <span class="fab-icon">âš™ï¸</span>
  <span>Coordinator</span>
</button>

<!-- â•â• PIN MODAL â•â• -->
<div class="overlay" id="pinOverlay">
  <div class="modal modal-sm">
    <div class="modal-head">
      <h2>Coordinator Access</h2>
      <button class="modal-close" onclick="closeOverlay('pinOverlay')">âœ•</button>
    </div>
    <div class="modal-body">
      <div class="fgroup">
        <label>Enter PIN</label>
        <input type="password" class="pin-input" id="pinInput" maxlength="6" placeholder="â€¢â€¢â€¢â€¢"
               onkeydown="if(event.key==='Enter')checkPin()"/>
        <div class="pin-error" id="pinError">Incorrect PIN â€” try again.</div>
      </div>
      <button class="btn-primary" onclick="checkPin()">Unlock</button>
      <p style="font-size:.72rem;color:var(--muted);margin-top:12px;text-align:center;">
        Default PIN is <strong style="color:#E8E8E8">1234</strong> â€” update in the code before sharing.
      </p>
    </div>
  </div>
</div>

<!-- â•â• ADD SLOT MODAL â•â• -->
<div class="overlay" id="addOverlay">
  <div class="modal">
    <div class="modal-head">
      <h2>Add Badminton Slot</h2>
      <button class="modal-close" onclick="closeOverlay('addOverlay')">âœ•</button>
    </div>
    <div class="modal-body">
      <div class="fgroup">
        <label>Date</label>
        <input type="date" id="slotDate" min="2026-03-01"/>
      </div>
      <div class="frow">
        <div class="fgroup">
          <label>Start Time</label>
          <input type="time" id="slotStart" value="06:00"/>
        </div>
        <div class="fgroup">
          <label>End Time</label>
          <input type="time" id="slotEnd" value="09:30"/>
        </div>
      </div>
      <div class="fgroup">
        <label>Which Gyms are available?</label>
        <div style="display:flex;gap:10px;flex-wrap:wrap;margin-top:2px;">
          <label style="display:flex;align-items:center;gap:6px;font-size:.88rem;color:#E8E8E8;text-transform:none;letter-spacing:0;cursor:pointer;">
            <input type="checkbox" id="gymCheck1" value="Gym 1" checked style="width:auto;accent-color:var(--saffron);"> Gym 1
          </label>
          <label style="display:flex;align-items:center;gap:6px;font-size:.88rem;color:#E8E8E8;text-transform:none;letter-spacing:0;cursor:pointer;">
            <input type="checkbox" id="gymCheck2" value="Gym 2" checked style="width:auto;accent-color:var(--saffron);"> Gym 2
          </label>
          <label style="display:flex;align-items:center;gap:6px;font-size:.88rem;color:#E8E8E8;text-transform:none;letter-spacing:0;cursor:pointer;">
            <input type="checkbox" id="gymCheck3" value="Gym 3" checked style="width:auto;accent-color:var(--saffron);"> Gym 3
          </label>
        </div>
        <p class="fhint">Check only the gyms that are open for this session. Not all gyms may be available.</p>
      </div>
      <div class="fgroup">
        <label>Session Notes (optional)</label>
        <input type="text" id="slotNotes" placeholder="e.g. Evening Open Play"/>
      </div>
      <div class="fgroup">
        <label>Google Form URL</label>
        <input type="url" id="slotFormUrl" placeholder="https://forms.gle/..."/>
        <p class="fhint">Each gym's sign-up button will open this form. Leave blank to use the default form URL.</p>
      </div>
      <button class="btn-primary" onclick="addSlot()">Add Slot</button>
      <button class="btn-ghost" onclick="closeOverlay('addOverlay')">Cancel</button>
    </div>
  </div>
</div>

<!-- â•â• MANAGE MODAL â•â• -->
<div class="overlay" id="manageOverlay">
  <div class="modal">
    <div class="modal-head">
      <h2>Manage Slots</h2>
      <button class="modal-close" onclick="closeOverlay('manageOverlay')">âœ•</button>
    </div>
    <div class="modal-body">
      <button class="btn-primary" onclick="closeOverlay('manageOverlay');openAddModal('')">
        ï¼‹ Add New Slot
      </button>
      <hr class="modal-divider"/>
      <div id="manageList"></div>
    </div>
  </div>
</div>

<!-- Toast -->
<div class="toast" id="toast"></div>

<footer>
  <p>Community badminton coordination for Garner Rec Center Â· Volunteer-managed Â· Not an official service</p>
  <p style="margin-top:4px">
    <a href="https://garner.recdesk.com/Community/Calendar" target="_blank">Official Garner Rec Calendar â†—</a>
  </p>
  <p style="margin-top:12px;color:#555;font-size:.72rem;">
    Built with â¤ï¸ by <strong style="color:#888">Viral Patel</strong> for the Garner badminton community
  </p>
</footer>

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     JAVASCRIPT
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<script>
/* â”€â”€ Config â€” edit these two lines â”€â”€ */
const ADMIN_PIN       = "8164";                    // â† change before sharing
const DEFAULT_FORM    = "https://forms.gle/o7Xb2rM8kLk4CEaf7";    // â† paste your Google Form link

/* â”€â”€ Seed data from the Garner Rec screenshot â”€â”€ */
const SEED = [
  // Week 1
  {id:"s1",  date:"2026-03-03", start:"6:00 AM",  end:"9:30 AM",  notes:"Gym 3 Â· Morning"},
  {id:"s2",  date:"2026-03-04", start:"7:00 AM",  end:"9:30 AM",  notes:"Gym 3 Â· Morning"},
  {id:"s3",  date:"2026-03-06", start:"7:00 AM",  end:"9:30 AM",  notes:"Gym 3 Â· Morning"},
  {id:"s4",  date:"2026-03-07", start:"9:00 AM",  end:"11:30 AM", notes:"Gym 3 Â· Morning"},
  // Week 2
  {id:"s5",  date:"2026-03-10", start:"6:00 AM",  end:"9:30 AM",  notes:"Gym 3 Â· Morning"},
  {id:"s6",  date:"2026-03-11", start:"7:00 AM",  end:"9:30 AM",  notes:"Gym 3 Â· Morning"},
  {id:"s7",  date:"2026-03-13", start:"7:00 AM",  end:"9:30 AM",  notes:"Gym 3 Â· Morning"},
  {id:"s8",  date:"2026-03-14", start:"9:00 AM",  end:"11:30 AM", notes:"Gym 3 Â· Morning"},
  // Week 3
  {id:"s9",  date:"2026-03-17", start:"6:00 AM",  end:"9:30 AM",  notes:"Gym 3 Â· Morning"},
  {id:"s10", date:"2026-03-18", start:"7:00 AM",  end:"9:30 AM",  notes:"Gym 3 Â· Morning"},
  {id:"s11", date:"2026-03-20", start:"7:00 AM",  end:"9:30 AM",  notes:"Gym 3 Â· Morning"},
  {id:"s12", date:"2026-03-21", start:"9:00 AM",  end:"11:30 AM", notes:"Gym 3 Â· Morning"},
  // Week 4
  {id:"s13", date:"2026-03-24", start:"6:00 AM",  end:"9:30 AM",  notes:"Gym 3 Â· Morning"},
  {id:"s14", date:"2026-03-25", start:"7:00 AM",  end:"9:30 AM",  notes:"Gym 3 Â· Morning"},
  {id:"s15", date:"2026-03-27", start:"7:00 AM",  end:"9:30 AM",  notes:"Gym 3 Â· Morning"},
  {id:"s16", date:"2026-03-28", start:"9:00 AM",  end:"11:30 AM", notes:"Gym 3 Â· Morning"},
].map(s => ({
  ...s,
  formUrl: DEFAULT_FORM,
  courts:[
    {name:"Gym 1",takenBy:""},
    {name:"Gym 2",takenBy:""},
    {name:"Gym 3",takenBy:""}
  ]
}));

/* â”€â”€ State â”€â”€ */
const LS = "garner_badminton_v2";
let slots = (() => { try { const d=localStorage.getItem(LS); return d?JSON.parse(d):JSON.parse(JSON.stringify(SEED)); } catch(e){ return JSON.parse(JSON.stringify(SEED)); } })();
let adminUnlocked = false;
let activeWeek    = 0;

function save(){ localStorage.setItem(LS, JSON.stringify(slots)); }
function genId(){ return 's' + Date.now() + Math.random().toString(36).slice(2,5); }

/* â”€â”€ Week grouping â”€â”€ */
function getWeeks(){
  const map = {};
  slots.forEach(s => {
    const d = new Date(s.date + 'T00:00:00');
    const dow = d.getDay(); // 0=Sun
    const toMon = dow===0 ? -6 : 1-dow;
    const mon = new Date(d); mon.setDate(d.getDate()+toMon);
    const key = mon.toISOString().slice(0,10);
    if(!map[key]) map[key]={monday:mon, slots:[]};
    map[key].slots.push(s);
  });
  return Object.entries(map).sort((a,b)=>a[0].localeCompare(b[0])).map(([,v])=>v);
}

function fmtDay(ds){
  return new Date(ds+'T00:00:00').toLocaleDateString('en-US',{weekday:'long'});
}
function fmtFull(ds){
  return new Date(ds+'T00:00:00').toLocaleDateString('en-US',{month:'long',day:'numeric'});
}
function fmtWeek(mon){
  const sun=new Date(mon); sun.setDate(mon.getDate()+6);
  const m1=mon.toLocaleDateString('en-US',{month:'short',day:'numeric'});
  const m2=sun.toLocaleDateString('en-US',{month:'short',day:'numeric'});
  return `${m1} â€“ ${m2}`;
}
function dayEmoji(ds){
  const emojis=['ğŸŒ','ğŸŒ™','â­','ğŸ”¥','ğŸ’«','ğŸŒ…','ğŸ…'];
  return emojis[new Date(ds+'T00:00:00').getDay()];
}

/* â”€â”€ Render â”€â”€ */
function render(){
  const weeks = getWeeks();
  const tabsEl   = document.getElementById('weekTabs');
  const panelsEl = document.getElementById('weekPanels');
  tabsEl.innerHTML = '';
  panelsEl.innerHTML = '';

  document.body.classList.toggle('admin-unlocked', adminUnlocked);

  if(!weeks.length){
    panelsEl.innerHTML=`<div class="empty-week">
      <div class="empty-icon">ğŸ“…</div>
      <h3>No slots yet</h3>
      <p>Use the <strong>Coordinator</strong> button to add badminton slots for your community.</p>
    </div>`;
    return;
  }

  weeks.forEach((wk, wi)=>{
    /* tab */
    const tab = document.createElement('button');
    tab.className = 'tab-btn'+(wi===activeWeek?' active':'');
    tab.textContent = wi===activeWeek
      ? `Week ${wi+1}  Â·  ${fmtWeek(wk.monday)}`
      : `Week ${wi+1}`;
    tab.onclick = ()=>{ activeWeek=wi; render(); };
    tabsEl.appendChild(tab);

    /* panel */
    const panel = document.createElement('div');
    panel.className = 'week-panel'+(wi===activeWeek?' active':'');

    /* week header */
    panel.innerHTML = `
      <div class="week-header">
        <div>
          <div class="week-header-title">Week ${wi+1} &mdash; ${fmtWeek(wk.monday)}</div>
          <div class="week-header-sub">All times shown for Garner Rec Center Â· Check which gyms are open each session</div>
        </div>
        <button class="btn-add-slot" onclick="openAddModal('')">ï¼‹ Add Slot</button>
      </div>`;

    /* day sections */
    [...wk.slots].sort((a,b)=>a.date.localeCompare(b.date)).forEach(slot=>{
      const sec = document.createElement('div');
      sec.className = 'day-section';
      sec.innerHTML = `
        <div class="day-card">
          <div class="day-head">
            <div class="day-head-left">
              <div class="day-dot">${dayEmoji(slot.date)}</div>
              <div>
                <div class="day-name">${fmtDay(slot.date)}, ${fmtFull(slot.date)}</div>
                <div class="day-date-str">${slot.notes||'Gym 3'}</div>
              </div>
            </div>
            <div class="day-time-badge">â° ${slot.start} â€“ ${slot.end}</div>
          </div>
          <table class="slots-table">
            <thead>
              <tr>
                <th>Time</th>
                ${slot.courts.map(c=>`<th>ğŸ¸ ${escHtml(c.name)}</th>`).join('')}
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>${slot.start}<br><span style="color:var(--muted);font-weight:400;font-size:.73rem;">to ${slot.end}</span></td>
                ${slot.courts.map((c,ci)=>`
                <td>
                  ${c.takenBy
                    ? `<button class="slot-btn slot-taken" disabled>ğŸ‘¤ ${escHtml(c.takenBy)}</button>`
                    : `<button class="slot-btn slot-open" onclick="signUp('${slot.id}',${ci})">Available</button>`
                  }
                </td>`).join('')}
              </tr>
            </tbody>
          </table>
        </div>`;
      panel.appendChild(sec);
    });

    panelsEl.appendChild(panel);
  });
}

function escHtml(s){ return s.replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;'); }

/* â”€â”€ Sign-up â”€â”€ */
function signUp(slotId, ci){
  const slot = slots.find(s=>s.id===slotId);
  if(!slot||slot.courts[ci].takenBy){ showToast("That slot is already taken."); return; }

  const formUrl = slot.formUrl && slot.formUrl!=="YOUR_GOOGLE_FORM_URL" ? slot.formUrl : null;

  if(formUrl){
    const info = `${fmtFull(slot.date)} | ${slot.start}â€“${slot.end} | ${slot.courts[ci].name}`;
    window.open(formUrl+'#slot='+encodeURIComponent(info), '_blank');
    showToast("ğŸ“ Google Form opened â€” fill your name to book!", 3500);
  } else {
    // Inline fallback until form is configured
    const name = prompt(`Sign up for:\nğŸ“… ${fmtFull(slot.date)}\nâ° ${slot.start} â€“ ${slot.end}\nğŸ¸ ${slot.courts[ci].name}\n\nEnter your name:`);
    if(!name||!name.trim()) return;
    slot.courts[ci].takenBy = name.trim();
    save(); render();
    showToast(`âœ… ${name.trim()} signed up for ${slot.courts[ci].name}!`);  // gym name already correct
  }
}

/* â”€â”€ Admin: PIN â”€â”€ */
function openPinModal(){
  if(adminUnlocked){ openManage(); return; }
  openOverlay('pinOverlay');
  setTimeout(()=>document.getElementById('pinInput').focus(), 150);
}
function checkPin(){
  if(document.getElementById('pinInput').value===ADMIN_PIN){
    adminUnlocked=true;
    closeOverlay('pinOverlay');
    document.getElementById('pinInput').value='';
    document.getElementById('pinError').style.display='none';
    render();
    showToast("ğŸ”“ Admin mode active");
    openManage();
  } else {
    document.getElementById('pinError').style.display='block';
    document.getElementById('pinInput').value='';
    document.getElementById('pinInput').focus();
  }
}

/* â”€â”€ Admin: Add Slot â”€â”€ */
function openAddModal(defaultDate){
  if(!adminUnlocked){ openPinModal(); return; }
  if(defaultDate) document.getElementById('slotDate').value=defaultDate;
  // pre-fill form URL
  document.getElementById('slotFormUrl').value = DEFAULT_FORM!=="YOUR_GOOGLE_FORM_URL" ? DEFAULT_FORM : '';
  openOverlay('addOverlay');
}
function addSlot(){
  const date  = document.getElementById('slotDate').value;
  const start = document.getElementById('slotStart').value;
  const end   = document.getElementById('slotEnd').value;
  const notes = document.getElementById('slotNotes').value.trim();
  const fu    = document.getElementById('slotFormUrl').value.trim()||DEFAULT_FORM;

  if(!date||!start||!end){ showToast("âš ï¸ Date, start and end time are required."); return; }
  if(start>=end){ showToast("âš ï¸ End time must be after start time."); return; }

  // Collect selected gyms
  const selectedGyms = ['Gym 1','Gym 2','Gym 3']
    .filter((_,i) => document.getElementById(`gymCheck${i+1}`).checked)
    .map(name => ({name, takenBy:""}));

  if(!selectedGyms.length){ showToast("âš ï¸ Please select at least one gym."); return; }

  const f12 = t => {
    const [h,m]=t.split(':').map(Number);
    return `${h%12||12}:${String(m).padStart(2,'0')} ${h<12?'AM':'PM'}`;
  };

  slots.push({
    id:genId(), date,
    start:f12(start), end:f12(end),
    notes:notes||'Garner Rec Center',
    formUrl:fu,
    courts: selectedGyms
  });
  save(); closeOverlay('addOverlay'); render();
  showToast(`âœ… Slot added with ${selectedGyms.length} gym(s)!`);
}

/* â”€â”€ Admin: Manage â”€â”€ */
function openManage(){
  const el = document.getElementById('manageList');
  const sorted = [...slots].sort((a,b)=>a.date.localeCompare(b.date));
  if(!sorted.length){ el.innerHTML='<p style="color:var(--muted);font-size:.88rem;">No slots yet.</p>'; }
  else {
    el.innerHTML = sorted.map(s=>`
      <div class="manage-item">
        <div class="manage-badge">${dayEmoji(s.date)}</div>
        <div class="manage-info">
          <div class="manage-name">${fmtDay(s.date)}, ${fmtFull(s.date)}</div>
          <div class="manage-sub">${s.start} â€“ ${s.end} Â· ${s.notes||'Gym 3'}</div>
          <div class="manage-sub">
            ${s.courts.map(c=>`${c.name}`).join(' Â· ')} available<br>
            ${s.courts.filter(c=>c.takenBy).length
              ? s.courts.filter(c=>c.takenBy).map(c=>`${c.name}: <strong style="color:#E8E8E8">${escHtml(c.takenBy)}</strong>`).join(' Â· ')
              : '<span style="color:var(--muted-2)">No bookings yet</span>'}
          </div>
        </div>
        <button class="btn-del" onclick="deleteSlot('${s.id}')">Delete</button>
      </div>`).join('');
  }
  openOverlay('manageOverlay');
}
function deleteSlot(id){
  if(!confirm("Delete this slot and all its bookings?")) return;
  slots=slots.filter(s=>s.id!==id);
  save(); openManage(); render();
  showToast("ğŸ—‘ Slot deleted.");
}

/* â”€â”€ Overlay helpers â”€â”€ */
function openOverlay(id){ document.getElementById(id).classList.add('open'); }
function closeOverlay(id){ document.getElementById(id).classList.remove('open'); }

/* close on backdrop click */
document.querySelectorAll('.overlay').forEach(el=>{
  el.addEventListener('click', e=>{ if(e.target===el) el.classList.remove('open'); });
});

/* â”€â”€ Toast â”€â”€ */
function showToast(msg, dur=2600){
  const t=document.getElementById('toast');
  t.textContent=msg; t.classList.add('show');
  setTimeout(()=>t.classList.remove('show'), dur);
}

/* â”€â”€ Init â”€â”€ */
render();
</script>
</body>
</html>
